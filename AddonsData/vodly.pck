["buscar", {"pwire_movies": {"name": "pwire_movies", "numid": 2, "up": "listadded", "down": "season_pwire_movies_lnk", "sibling": "pagediscrim", "params": {"icondefflag": 1, "url": "http://www.primewire.ag", "discrim": "urlin", "labeldefflag": 1, "compflags": "re.DOTALL", "nextregexp": "Get Next Page >>><->|<a href=\"(?P<url>[^\"]+page[^\"]+)\">(?P<label>.+?)</a>", "headregexp": "Genre: <-><span>([^ ]+) [^>]+> <strong>[^<]+</strong></span>|<li><a href=\"(?P<url>[^\"]+genre=[^&\"]+)\">(?P<label>.+?)</a></li><=>Sort by: <-><span>[^>]+> <strong>([^<]+)</strong></span>|<li><a href=\"(?P<url>[^\"]+&*sort=[^\"]+)\">(?P<label>.+?)</a></li>", "regexp": "<div class=\"index_item index_item_ie\">\\s*?<a href=\"(?P<url>.+?)\" title=\"Watch (?P<label>.+?)\"><img src=\"(?P<iconImage>.+?)\" [^>]+>", "contextmenus": ",", "op_addonInfo": "movie*(?P<name>.+?) \\((?P<year>\\d+)\\)"}, "type": "thread"}, "season_pwire_movies_lnk": {"name": "season", "numid": 18, "up": "pwire_movies", "sibling": "nav_tabs", "params": {"source": true}, "type": "link"}, "playlist_list": {"name": "playlist_list", "numid": 3, "up": "playlist_media", "down": "nav_tabs_playlist_list_lnk", "sibling": "season_playlist_media_lnk", "params": {"option": "3", "url": "http://www.primewire.ag/playlists.php?sort=hits", "compflags": "re.DOTALL|re.IGNORECASE", "headregexp": "Sort by <-><span class=\"index_show_by_selected\"><a [^>]+>(.+?)</a></span>|<span class=\"index_show_by_(?:not)*selected\"><a href=\"(?P<url>.+?)\">(?P<label>.+?)</a></span>", "regexp": "<td width=\"90\">.+?src=\"(?P<iconImage>[^\"]+)\".+?<strong><a href=\"(?P<url>.+?)\">(?P<label>.+?)</a>(?P<label1>.+?)</strong>", "contextmenus": ",", "nextregexp": "Next>>><->|</span> <a href=\"(?P<url>.+?)\">(?P<label>.+?)<"}, "type": "thread"}, "buscar": {"params": {"searchkeys": "Title*search_keywords+Director*director+Starring*actor_name+Country*country", "url": "http://www.primewire.ag/index.php?search_section=1&director=Woody+Allen&advanced=1&key=718c1dfdd6d63be6", "enabled": false, "compflags": "0", "regexp": "(?#<SEARCH>)http://www.primewire.ag/index.php?search_section=2&search_keywords=&genre=&director=&actor_name=&tag=&country=&search_rating=0&year=0&month=0&decade=0&host=&advanced=1&key=%s", "contextmenus": ","}, "numid": 15, "type": "thread", "up": "pwire_copy", "name": "Buscar"}, "season_pagediscrim_lnk": {"name": "season", "numid": 5, "up": "pagediscrim", "sibling": "pwire_copy", "params": {"source": true}, "type": "link"}, "season_playlist_media_lnk": {"params": {"source": true}, "numid": 6, "type": "link", "name": "season", "up": "playlist_media"}, "media": {"down": "listadded", "type": "thread", "numid": 7, "params": {"url": "http://www.primewire.ag/external.php?gd=1890549585&title=Donnie+Darko&url=aHR0cDovL3d3dy5wcm9tcHRmaWxlLmNvbS9sL0VFMjdCMUM0QTktREE5MEVGOTBCNg==&domain=cHJvbXB0ZmlsZS5jb20=&loggedin=0", "regexp": "<noframes>(?P<videourl>[^<]+)</noframes>", "compflags": "re.DOTALL", "enabled": false}, "name": "media"}, "pwire_copy": {"name": "pwire_copy", "numid": 8, "up": "pagediscrim", "down": "buscar", "params": {"": "", "icondefflag": 1, "url": "http://www.primewire.ag", "labeldefflag": 1, "compflags": "re.DOTALL", "regexp": "<div class=\"index_item index_item_ie\">\\s*?<a href=\"(?P<url>.+?)\" title=\"Watch (?P<label>.+?)\"><img src=\"(?P<iconImage>.+?)\" [^>]+>", "contextmenus": ",", "nextregexp": "Next>>><->|</span> <a href=\"(?P<url>.+?)\">"}, "type": "thread"}, "rootmenu": {"type": "list", "numid": 9, "params": {"": "", "contextmenus": ",", "codenode": 0}, "name": "rootmenu"}, "season": {"name": "season", "numid": 16, "up": "episode", "down": "pwire_movies_season_lnk", "params": {"url": "http://www.primewire.ag/watch-2727107-Revenge", "urlout": "/tv-", "urlin": "?tv", "compflags": "0", "regexp": "<h2>\\W+<a data-id=\"\\d+\" class=\"season-toggle\" href=\"(?P<url>.+?)\">&#9658; (?P<label>.+?)<span", "contextmenus": ",", "urldata": "TV Show"}, "type": "thread"}, "playlist_list_nav_tabs_lnk": {"type": "link", "numid": 10, "params": {"source": true}, "up": "nav_tabs", "name": "playlist_list"}, "nav_tabs_playlist_list_lnk": {"type": "link", "numid": 17, "params": {}, "name": "nav_tabs", "up": "playlist_list"}, "pwire_movies_season_lnk": {"name": "pwire_movies", "numid": 13, "up": "season", "sibling": "playlist_media_season_lnk", "params": {}, "type": "link"}, "pagediscrim": {"name": "pagediscrim", "numid": 14, "up": "listadded", "down": "season_pagediscrim_lnk", "params": {"url": "https://www.primewire.ag/watch-2747802-In-Search-of-Aliens-online-free", "regexp": "<title>[^<]+\\((?P<discrim>.+?)\\)[^<]+</title>", "compflags": "0", "contextmenus": ",", "discrim": "urldata"}, "type": "thread"}, "nav_tabs": {"name": "nav_tabs", "numid": 4, "up": "pwire_movies", "down": "playlist_list_nav_tabs_lnk", "params": {"url": "http://www.primewire.ag/", "plainnode": 1, "discrim": "option", "compflags": "re.DOTALL|re.IGNORECASE", "regexp": "<li class=\"[un]*pressed\"><a href=\"(?P<url>[^\"]+)\" title=\"[WLP].+?\">(?P<label>.+?)</a></li>", "contextmenus": ","}, "type": "thread"}, "listadded": {"name": "listadded", "numid": 1, "up": "media", "down": "episode", "params": {"url": "http://www.primewire.ag/watch-2753133-Gore-Quebec", "regexp": "<span class=\"movie_version_link\">.+?writeln\\('<a href=\"(?P<url>[^\"]+?)\".+?writeln\\('(?P<label>.+?)'\\)", "compflags": "re.DOTALL|re.IGNORECASE"}, "type": "thread"}, "pagediscrim_season_lnk": {"type": "link", "numid": 11, "params": {}, "name": "pagediscrim", "up": "season"}, "playlist_media": {"name": "playlist_media", "numid": 12, "up": "listadded", "down": "playlist_list", "sibling": "pwire_movies", "params": {"icondefflag": 1, "url": "http://www.primewire.ag/playlists.php?id=41731", "discrim": "urlout", "labeldefflag": 1, "urlin": "/tv-", "compflags": "re.DOTALL|re.IGNORECASE", "regexp": "<img src=\"(?P<iconImage>[^\"]+)\".+?<a href=\"(?P<url>[^\"]+)\">(?P<label>[^<]+)</a> (?P<label1>\\( [\\d]+ \\))", "contextmenus": ","}, "type": "thread"}, "playlist_media_season_lnk": {"name": "playlist_media", "numid": 19, "up": "season", "sibling": "pagediscrim_season_lnk", "params": {}, "type": "link"}, "episode": {"name": "episode", "numid": 20, "up": "listadded", "down": "season", "sibling": "playlist_media", "params": {"": "", "icondefflag": 1, "url": "http://www.primewire.ag/tv-2727107-Revenge/season-3", "labeldefflag": 1, "compflags": "re.DOTALL", "regexp": "<div class=\"tv_episode_item\"> <a href=\"(?P<url>.+?)\">(?P<label>E[0-9]+)\\W+?<span class=\"tv_episode_name\">(?P<label1>.+?)</span>", "contextmenus": ","}, "type": "thread"}}]
{"addon_id": "plugin.video.1channelide", "addon_requires": "xbmc.python,2.7.0,|script.module.urlresolver,2.4.0,|script.module.metahandler,2.7.0,|script.module.addon.common,2.0.0,|script.common.plugin.cache,2.5.5,", "addon_disclaimer": "This addon is an example of what can be done with ADDON IDE. Please refer to the original addon.", "addon_name": "1ChannelIDE", "addon_resources": "basicFunc.py,resources/lib/,True,basicFunc.py|CustomRegEx.py,resources/lib,True,CustomRegEx.py", "addon_fanart": "C:/Users/Alex Montes Barrios/git/addonDevelopment/xbmc addon development/src/xbmcUI/images/PrimeWirwFanart.jpg", "addon_icon": "C:/Users/Alex Montes Barrios/git/addonDevelopment/xbmc addon development/src/xbmcUI/images/PrimewireIcon.png"}
[["addon_changelog", ""], ["addon_module", {"media": "def media():\n    import urlresolver\n    url = openUrl(args.get(\"url\")[0], validate = True)\n    if url.startswith(\"https://secure.link\"):\n        url = url[20:].decode('base64')\n        url = url.split('::', 1)[0]\n    if not url.startswith(\"http://www.primewire.ag\"):\n        regexp = r'http://(?P<videoHost>[^/]+)/(?P<videoId>[^.]+)'\n        match = re.search(regexp, url)\n        url = urlresolver.HostedMediaFile(host = match.group(\"videoHost\"), media_id = match.group(\"videoId\")).resolve()\n    else:\n        regexp = '<noframes>(?P<videourl>[^<]+)</noframes>'\n        compflags =re.DOTALL\n        url, data = openUrl(url)\n        subMenus = parseUrlContent(url, data, regexp, compflags )\n        videoUrl = subMenus[0][\"videourl\"]\n        url = urlresolver.HostedMediaFile(url = videoUrl).resolve()\n    li = xbmcgui.ListItem(path = url)\n    if args.get(\"icondef\", None): li.setThumbnailImage(args[\"icondef\"][0])\n    if args.get(\"labeldef\", None): li.setLabel(args[\"labeldef\"][0])\n    li.setProperty('IsPlayable', 'true')\n    li.setProperty('mimetype', 'video/x-msvideo')\n    return xbmcplugin.setResolvedUrl(handle=addon_handle,succeeded=True,listitem=li)\n", "_codeframe_": "<header>\n<rootmenu>\n\n\n<buscar>\n\n\n\n\n\n<pwire_copy>\n\n<pagediscrim>\n        \n\n# Deleted node playlist_sort\n\n<playlist_list>\n\n<playlist_media>\n\n<season>\n\n<episode>\n\n<nav_tabs>\n\n# Deleted node genre_list\n\n\n# Deleted node sort_list\n\n<pwire_movies>\n\n<listadded>\n\n<media>\n\n\n<footer>\n", "buscar": "def buscar():\n    if args.has_key('searchkeys'):\n        searchKeys = args.get('searchkeys')[0]\n        searchKeys = searchKeys.split('+')\n        menuContent = []\n        for elem in searchKeys:\n            searchLabel, searchId = map(lambda x: x.strip(), elem.split('*'))\n            menuContent.append([{'searchid':searchId, 'menu': 'buscar'}, {'isFolder': True, 'label': 'buscar by ' + searchLabel}, None])\n        return menuContent\n    srchUrl = getRegexFor(\"<nodeId>\", dir=_data)\n    srchUrl = srchUrl[len('(?#<SEARCH>)'):]\n    import CustomRegEx\n    content = openUrl(\"http://www.primewire.ag/index.php?search\")[1]\n    pattern = r'(?#<form id=\"searchform\" .input<name=\"key\" value=key>*>)'\n    srchKey = CustomRegEx.search(pattern, content).group('key')\n    srchUrl = srchUrl % srchKey\n    import xml.etree.ElementTree as ET\n    searchId     = args.get('searchid', ['all'])[0]\n    savedsearch = xbmc.translatePath('special://profile')\n    savedsearch = os.path.join(savedsearch, 'addon_data', 'plugin.video.1channelide','savedsearch.xml')\n    root = ET.parse(savedsearch).getroot() if os.path.exists(savedsearch) else ET.Element('searches')\n\n    if not args.has_key(\"tosearch\") and os.path.exists(savedsearch):\n        existsSrch = root.findall(\"search\")\n        if searchId != \"all\":\n            existsSrch = [elem for elem in existsSrch if elem.get(\"searchid\") == searchId]\n        menuContent = []\n        for elem in existsSrch:\n           toSearch = \"%s=%s\" % (elem.get('searchid'), urllib.quote_plus(elem.get('tosearch')))\n           url = srchUrl.replace(elem.get('searchid') + '=', toSearch)\n           menuContent.append([{'menu':elem.get('menu'), 'url':url}, {'isFolder': True, 'label': elem.get('tosearch')}, None])\n        if menuContent:\n            menuContent.insert(0,[{'menu':'buscar', 'tosearch':'==>', 'searchid':searchId}, {'isFolder': True, 'label': 'Search by ' + searchId}, None])\n            return menuContent\n\n    kb = xbmc.Keyboard(\"\", \"Search for \" + searchId , False)\n    kb.doModal()\n    if not (kb.isConfirmed()):return EMPTYCONTENT\n    srchLabel = kb.getText()\n    toSearch = (searchId + \"=\" if searchId != 'all' else \"\") + urllib.quote_plus(srchLabel)\n    srchUrl = srchUrl.replace(searchId + '=', toSearch)\n    xbmc.log(srchUrl)\n    existsSrch = [elem for elem in root.findall(\"search\") if elem.get(\"url\") == srchUrl]\n    args[\"url\"] = [srchUrl]\n    menuContent = pwire_copy()\n    if menuContent and not existsSrch:\n        toInclude = ET.Element('search', url = srchUrl, tosearch = srchLabel, menu = \"pwire_copy\", searchid = searchId)\n        root.insert(0, toInclude)\n        if not os.path.exists(os.path.dirname(savedsearch)):os.mkdir(os.path.dirname(savedsearch))\n        ET.ElementTree(root).write(savedsearch)\n    return menuContent\n"}], ["addon_settings", ""]]
